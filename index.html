<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The University Series: Our Story</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Playfair Display (Serif) & Inter (Sans) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Playfair Display', 'serif'],
                    },
                    colors: {
                        'varsity-orange': '#c2410c', // Deep Burnt Orange
                        'varsity-gold': '#d97706', // Muted Gold (Kept as accent)
                        'paper': '#fffaf0', // Floral White (Warmer background)
                        'ink': '#431407', // Dark warm brown (instead of cold black)
                    },
                    screens: {
                        'xs': '475px',
                    },
                    animation: {
                        'pop': 'pop 0.3s ease-out forwards',
                    },
                    keyframes: {
                        pop: {
                            '0%': { transform: 'scale(0)' },
                            '80%': { transform: 'scale(1.2)' },
                            '100%': { transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* Custom scrollbar for that premium feel */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #fffaf0; 
        }
        ::-webkit-scrollbar-thumb {
            background: #fdba74; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #ea580c; 
        }
        
        /* Hide scrollbar for chapter list but keep functionality */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Mobile Tap Highlight Removal */
        * {
            -webkit-tap-highlight-color: transparent;
        }
        
        /* Loading Spinner */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #c2410c;
            width: 24px;
            height: 24px;
            -webkit-animation: spin 1s linear infinite; /* Safari */
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-paper text-ink font-sans antialiased min-h-screen flex flex-col">

    <!-- ANNIVERSARY MODAL -->
    <div id="welcome-modal" class="fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm hidden px-4">
        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-2xl max-w-md w-full relative overflow-hidden text-center border-4 border-double border-orange-100 animate-[fadeIn_0.5s_ease-out]">
            
            <!-- Step 1: Greeting -->
            <div id="modal-step-1" class="modal-step">
                <div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">‚ù§Ô∏è</span>
                </div>
                <h2 class="text-2xl font-serif font-bold text-varsity-orange mb-4">Happy Anniversary!</h2>
                <p class="text-gray-600 mb-8 leading-relaxed font-serif text-lg">
                    Hi love! Happy second Anniversary my lovelove, my wifey, my princess. First of all, here‚Äôs a bouquet of flowers for you.
                </p>
                <button onclick="nextModalStep(2)" class="w-full py-3 bg-varsity-orange text-white rounded-lg font-medium hover:bg-orange-800 transition-colors flex items-center justify-center gap-2">
                    Next <i class="ph ph-arrow-right"></i>
                </button>
            </div>

            <!-- Step 2: Interactive Flowers -->
            <div id="modal-step-2" class="modal-step hidden">
                <h2 class="text-xl font-serif font-bold text-varsity-orange mb-2">For You üíê</h2>
                <p class="text-xs text-gray-400 mb-4 uppercase tracking-wider">Tap the box to give more flowers!</p>
                
                <!-- Interactive Container -->
                <div id="flower-container" class="h-64 relative bg-orange-50/50 border-2 border-dashed border-orange-200 rounded-xl mb-6 cursor-pointer overflow-hidden select-none touch-manipulation active:bg-orange-100/50 transition-colors" onclick="multiplyFlowers(event)">
                     <!-- Initial Flower -->
                     <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl drop-shadow-sm filter">üíê</div>
                     <div class="absolute bottom-2 w-full text-center text-orange-300 text-[10px] pointer-events-none">Click/Tap me!</div>
                </div>
                
                <button onclick="nextModalStep(3)" class="w-full py-3 bg-varsity-orange text-white rounded-lg font-medium hover:bg-orange-800 transition-colors flex items-center justify-center gap-2">
                    Next <i class="ph ph-arrow-right"></i>
                </button>
            </div>

            <!-- Step 3: The Letter -->
            <div id="modal-step-3" class="modal-step hidden">
                <h2 class="text-xl font-serif font-bold text-varsity-orange mb-4">From Me to You</h2>
                <div class="prose prose-sm text-left max-h-[50vh] overflow-y-auto mb-6 pr-2 -mr-2 text-gray-600 leading-relaxed font-serif bg-orange-50/30 p-4 rounded-lg border border-orange-100">
                    <p class="mb-4">Don‚Äôt worry, i have a real bouquet of flowers ready for you, baka akalain mo eto na yun eh HAHAHAH.</p>
                    <p class="mb-4">Happy second anniversary my love, this website is one of my gifts kasi i know that you really want the university series diba, but i cant still afford to buy you that book, so naisip ko, why not gawa na lang ako ng wattpadd story gamit story naten?</p>
                    <p class="mb-4">Galing ko dun aminin mo. I know di ako yung boyfriend with grand gestures but i want you to know how much i love and care for you my princess.</p>
                    <p class="mb-4">Di mo napansin na ginagawa ko to noh? (sabihin mo hindi mo napansin pls hehe). Sinisingit ko to gawin tuwing akala mo nagbabasa lang ako ng manhwa, nagbabasa naman talaga ako pero sinasideline ko to.</p>
                    <p class="mb-4">Ayun, explore the website on your own na lang, dont think its cringe pls, i know not exactly right yung stories per se, i got the help of AI to romanticize it a little bit, pero ako nagsulat nung stories talaga ha.</p>
                    <p class="font-bold text-varsity-orange">I love you my lovelove, mwaaa</p>
                </div>
                <button onclick="closeModal()" class="w-full py-3 bg-white border-2 border-varsity-orange text-varsity-orange rounded-lg font-bold hover:bg-orange-50 transition-colors">
                    See Website
                </button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-paper/95 backdrop-blur-sm border-b border-orange-100 transition-all duration-300">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Brand -->
                <div class="flex-shrink-0 flex items-center cursor-pointer active:opacity-70 transition-opacity" onclick="router('home')">
                    <i class="ph ph-book-open-text text-2xl text-varsity-orange mr-2"></i>
                    <span class="font-serif font-bold text-xl tracking-tight text-varsity-orange">The Archive</span>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8">
                    <button onclick="router('home')" class="nav-item text-gray-500 hover:text-varsity-orange transition-colors font-medium">Home</button>
                    <button onclick="router('chapters')" class="nav-item text-gray-500 hover:text-varsity-orange transition-colors font-medium">Chapters</button>
                    <button onclick="router('gallery')" class="nav-item text-gray-500 hover:text-varsity-orange transition-colors font-medium">Gallery</button>
                    <button onclick="router('students')" class="nav-item text-gray-500 hover:text-varsity-orange transition-colors font-medium">Students</button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button onclick="toggleMobileMenu()" class="p-2 -mr-2 text-gray-500 hover:text-varsity-orange focus:outline-none active:bg-orange-50 rounded-full transition-colors">
                        <i id="menu-icon" class="ph ph-list text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel (Full width dropdown) -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-orange-100 bg-paper absolute w-full shadow-lg origin-top animate-fade-in-down">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <button onclick="router('home'); toggleMobileMenu()" class="w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-gray-700 hover:bg-orange-50 active:bg-orange-100 flex items-center">
                    <i class="ph ph-house mr-3 text-xl text-varsity-orange"></i> Home
                </button>
                <button onclick="router('chapters'); toggleMobileMenu()" class="w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-gray-700 hover:bg-orange-50 active:bg-orange-100 flex items-center">
                    <i class="ph ph-book-bookmark mr-3 text-xl text-varsity-orange"></i> Chapters
                </button>
                <button onclick="router('gallery'); toggleMobileMenu()" class="w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-gray-700 hover:bg-orange-50 active:bg-orange-100 flex items-center">
                    <i class="ph ph-image mr-3 text-xl text-varsity-orange"></i> Gallery
                </button>
                <button onclick="router('students'); toggleMobileMenu()" class="w-full text-left px-4 py-3 rounded-lg text-lg font-medium text-gray-700 hover:bg-orange-50 active:bg-orange-100 flex items-center">
                    <i class="ph ph-student mr-3 text-xl text-varsity-orange"></i> Students
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-grow w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 relative">
        
        <!-- HOME SECTION -->
        <section id="home-view" class="view-section fade-in">
            <div class="text-center py-10 md:py-24">
                <span class="inline-block py-1 px-3 rounded-full bg-orange-50 text-varsity-orange text-xs font-semibold tracking-wider uppercase mb-4 border border-orange-100">
                    Est. 2022
                </span>
                <!-- Adjusted size for mobile -->
                <h1 class="text-4xl xs:text-5xl md:text-7xl font-serif font-bold text-varsity-orange mb-6 leading-tight">
                    The Story of Us
                </h1>
                <p class="mt-2 md:mt-4 max-w-2xl mx-auto text-lg md:text-xl text-gray-600 font-serif italic px-2">
                    "Every great love story is just a series of beautiful chapters waiting to be written."
                </p>
                
                <!-- Buttons Stack on Mobile -->
                <div class="mt-10 md:mt-12 flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 px-2 sm:px-0">
                    <button onclick="router('chapters')" class="w-full sm:w-auto px-8 py-3.5 bg-varsity-orange text-white rounded-lg shadow-md hover:bg-orange-800 active:transform active:scale-95 transition-all font-medium text-lg">
                        Start Reading
                    </button>
                    <button onclick="router('gallery')" class="w-full sm:w-auto px-8 py-3.5 bg-white border border-gray-300 text-gray-700 rounded-lg shadow-sm hover:bg-gray-50 active:transform active:scale-95 transition-all font-medium text-lg">
                        View Gallery
                    </button>
                </div>
            </div>

            <!-- Featured Quote Card -->
            <div class="max-w-3xl mx-auto bg-white p-6 md:p-12 shadow-sm border border-orange-100 rounded-lg mt-6 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-1 h-full bg-varsity-orange"></div>
                <i class="ph ph-quotes text-3xl md:text-4xl text-gray-200 absolute top-4 left-6"></i>
                <h2 class="text-xl md:text-2xl font-serif text-center text-gray-800 mb-4 mt-2">Synopsis</h2>
                <p class="text-gray-600 leading-relaxed text-center text-sm md:text-base">
    <span class="block font-bold text-gray-900 mb-4">
        A pretend reader. A campus queen. A pair of handcuffs.
    </span>

    They say if you stare into the universe, it stares back. For me, that universe was hiding in Emma‚Äôs eyes. It started with a tug in my chest during a classroom game and a borrowed book I never finished.
    <br><br>
    
    This is the archive of how two strangers navigated the chaos of Foundation Week‚Äîfinding a quiet corner of the world in a photobooth, and realizing that the "delulu" moments were actually the beginning of forever.
</p>
                <div class="mt-6 flex justify-center items-center gap-2 text-xs md:text-sm text-gray-400">
                    <i class="ph ph-heart-fill text-orange-400"></i>
                    <span>Written by Us</span>
                </div>
            </div>
        </section>

        <!-- CHAPTERS SECTION -->
        <section id="chapters-view" class="view-section hidden fade-in">
            <div class="lg:grid lg:grid-cols-12 gap-8 min-h-[600px]">
                
                <!-- Mobile: Collapsible Table of Contents / Desktop: Sidebar -->
                <div class="lg:col-span-3 lg:border-r border-gray-200 pr-0 lg:pr-6 mb-6 lg:mb-0">
                    
                    <!-- Desktop Header -->
                    <h3 class="hidden lg:flex font-serif text-xl font-bold text-varsity-orange mb-4 items-center justify-between">
                        <span><i class="ph ph-list-dashes mr-2"></i> Table of Contents</span>
                        <div id="loading-indicator" class="loader hidden"></div>
                    </h3>

                    <!-- Mobile Accordion Toggle -->
                    <button onclick="toggleChapterList()" class="lg:hidden w-full bg-white border border-orange-200 p-4 rounded-lg flex justify-between items-center shadow-sm mb-2 active:bg-orange-50">
                         <span class="font-serif font-bold text-varsity-orange flex items-center">
                            <i class="ph ph-list-dashes mr-2"></i> Jump to Chapter
                        </span>
                        <div class="flex items-center">
                            <div id="mobile-loading-indicator" class="loader mr-3 hidden"></div>
                            <i id="chapter-toggle-icon" class="ph ph-caret-down text-gray-400 transition-transform"></i>
                        </div>
                    </button>

                    <!-- The List -->
                    <div id="chapter-list-container" class="hidden lg:block space-y-2 lg:space-y-2 bg-white lg:bg-transparent p-2 lg:p-0 rounded-lg lg:rounded-none border border-orange-100 lg:border-none shadow-sm lg:shadow-none mb-4 lg:mb-0">
                        <!-- Navigation items generated by JS -->
                    </div>
                </div>

                <!-- Chapter Content -->
                <div class="lg:col-span-9 pl-0 lg:pl-4">
                    <div id="chapter-display" class="bg-white p-6 md:p-12 shadow-sm border border-orange-100 rounded-lg min-h-[500px]">
                        <!-- Content injected by JS -->
                    </div>
                    
                    <!-- Chapter Controls -->
                    <div class="flex justify-between items-center mt-6 pt-6 border-t border-gray-100 pb-12 md:pb-0">
                        <button id="prev-btn" onclick="changeChapter(-1)" class="flex items-center text-gray-500 hover:text-varsity-orange disabled:opacity-30 disabled:cursor-not-allowed px-3 py-2 rounded active:bg-gray-100">
                            <i class="ph ph-arrow-left mr-2"></i> Prev
                        </button>
                        <span id="chapter-pagination" class="font-serif text-gray-400 italic text-xs md:text-sm">Page 1</span>
                        <button id="next-btn" onclick="changeChapter(1)" class="flex items-center text-gray-500 hover:text-varsity-orange disabled:opacity-30 disabled:cursor-not-allowed px-3 py-2 rounded active:bg-gray-100">
                            Next <i class="ph ph-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- GALLERY SECTION -->
        <section id="gallery-view" class="view-section hidden fade-in">
            <div class="text-center mb-8 md:mb-12">
                <h2 class="text-3xl font-serif font-bold text-varsity-orange">The Archives</h2>
                <p class="text-gray-500 mt-2 text-sm md:text-base">Captured moments from our time together.</p>
            </div>

            <!-- Dynamic Masonry Grid -->
            <!-- Hardcoded items removed. Grid will be populated by JS -->
            <div id="gallery-grid" class="columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6">
                 <!-- Loading State -->
                 <div class="break-inside-avoid text-center p-8 text-gray-400">
                     <div class="loader mx-auto mb-2"></div>
                     <p>Loading archives...</p>
                 </div>
            </div>
        </section>

        <!-- STUDENTS SECTION -->
        <section id="students-view" class="view-section hidden fade-in">
            <div class="text-center mb-8 md:mb-12">
                <h2 class="text-3xl font-serif font-bold text-varsity-orange">Student Records</h2>
                <p class="text-gray-500 mt-2 text-sm md:text-base">The main characters.</p>
            </div>

            <div class="grid md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                <!-- Card 1 -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative">
                    <div class="h-24 bg-varsity-orange w-full absolute top-0"></div>
                    <div class="pt-12 px-6 pb-8 text-center relative z-10">
                        <div class="w-24 h-24 mx-auto bg-gray-200 rounded-full border-4 border-white shadow-md mb-4 overflow-hidden">
                             <!-- Placeholder Avatar -->
                             <img src="images/rosales.jpg" alt="Him" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-xl font-bold font-serif text-gray-900">John Eldrin Rosales</h3>
                        <p class="text-varsity-orange text-sm font-medium tracking-wide uppercase mb-6">Boyfriend / Hubby</p>
                        
                        <div class="text-left space-y-3 text-sm text-gray-600 bg-gray-50 p-4 rounded border border-gray-100">
                            <div class="flex justify-between border-b border-gray-200 pb-2">
                                <span class="font-semibold text-gray-400">ID No.</span>
                                <span>2023-01-XYZ</span>
                            </div>
                            <div class="flex justify-between border-b border-gray-200 pb-2">
                                <span class="font-semibold text-gray-400">Major</span>
                                <span>Nonchalant</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-semibold text-gray-400">Status</span>
                                <span class="text-green-600 font-medium">Taken</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card 2 -->
                <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden relative">
                    <div class="h-24 bg-varsity-gold w-full absolute top-0"></div>
                    <div class="pt-12 px-6 pb-8 text-center relative z-10">
                         <div class="w-24 h-24 mx-auto bg-gray-200 rounded-full border-4 border-white shadow-md mb-4 overflow-hidden">
                             <!-- Placeholder Avatar -->
                             <img src="images/love.jpg" alt="Her" class="w-full h-full object-cover">
                        </div>
                        <h3 class="text-xl font-bold font-serif text-gray-900">Nichole Emmanuelle Barcelona</h3>
                        <p class="text-yellow-700 text-sm font-medium tracking-wide uppercase mb-6">Girlfriend / Wifey</p>
                        
                        <div class="text-left space-y-3 text-sm text-gray-600 bg-gray-50 p-4 rounded border border-gray-100">
                            <div class="flex justify-between border-b border-gray-200 pb-2">
                                <span class="font-semibold text-gray-400">ID No.</span>
                                <span>2023-01-ABC</span>
                            </div>
                            <div class="flex justify-between border-b border-gray-200 pb-2">
                                <span class="font-semibold text-gray-400">Major</span>
                                <span>Sweetness</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="font-semibold text-gray-400">Status</span>
                                <span class="text-green-600 font-medium">Taken</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 mt-auto">
        <div class="max-w-6xl mx-auto px-4 py-8 flex flex-col items-center">
            <i class="ph ph-heart text-varsity-orange text-2xl mb-2"></i>
            <p class="font-serif text-gray-500 text-sm">¬© 2022 The Polytechnic University Series. All rights reserved.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script src="script.js"></script>
</body>
</html>